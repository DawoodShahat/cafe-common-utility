<!DOCTYPE html>
<html lang="en">

<head>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.9/dist/css/bootstrap-select.min.css">
  <% include partials/head.ejs %>
  <script src="../static/js/changectg.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.9/dist/js/bootstrap-select.min.js"></script>
</head>

<body>
  <header>
    <% include partials/header.ejs %>
  </header>
  <div class="container">
    <div class="row d-flex justify-content-center">
      <div class="col-8">
        <h1 class="mb-4">Search</h1>
        <% if(error){ %>
        <p class="alert alert-danger"><%= error %></p>
        <% } %>
        <form method="POST" action="/api/search">
          <div class="form-group">
            <label for="select-top-ctg-name">Select Top category</label>
            <select name="top_ctg_name" id="select-top-ctg-name" class="selectpicker form-control select-ctg-name">
              <option value="select">Select</option>
              <% topCategories.forEach( ctg => { %>
              <option value="<%= ctg %>"><%= ctg.replace("_", " ").toUpperCase() %></option>
              <% }); %>
            </select>
          </div>
          <div class="form-group">
            <label for="select-sub-ctg-name">Select Sub category</label>
            <select name="sub_ctg_name" id="select-sub-ctg-name" class="selectpicker form-control select-sub-ctg-name"
              multiple>
            </select>
          </div>
          <div class="form-group">
            <input class="btn btn-primary" type="submit" value="Search">
          </div>
        </form>
      </div>
    </div>
  </div>
  <script>
    // $(document).ready(function () {
    // });
  </script>
</body>

</html>